id: map-style
language: typescript
platform: node
type: library

tasks:
  build_icons:
    command: bin/build_icons.sh
    args:
      - ./dist/sprites
    options:
      cache: false
      persistent: false
      outputStyle: stream
      envFile: /.env

  build:
    deps:
      - build_icons
    command:
      - tsc
    inputs:
      - src
    outputs:
      - dist
    options:
      cache: true
      persistent: false
